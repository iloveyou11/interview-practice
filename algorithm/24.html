<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>【题库】动态规划DP刷题 | 前端面试刷题</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="每日半小时，巩固基础，助力面试">
    
    <link rel="preload" href="/interview-practice/assets/css/0.styles.f521d097.css" as="style"><link rel="preload" href="/interview-practice/assets/js/app.dca29c20.js" as="script"><link rel="preload" href="/interview-practice/assets/js/2.8c098b1a.js" as="script"><link rel="preload" href="/interview-practice/assets/js/24.9f3e688a.js" as="script"><link rel="prefetch" href="/interview-practice/assets/js/10.54827f59.js"><link rel="prefetch" href="/interview-practice/assets/js/100.dbfd26f0.js"><link rel="prefetch" href="/interview-practice/assets/js/101.752719ed.js"><link rel="prefetch" href="/interview-practice/assets/js/102.6386fd9b.js"><link rel="prefetch" href="/interview-practice/assets/js/103.c329bc72.js"><link rel="prefetch" href="/interview-practice/assets/js/104.4432ccb7.js"><link rel="prefetch" href="/interview-practice/assets/js/105.83bf3e88.js"><link rel="prefetch" href="/interview-practice/assets/js/106.749a91d7.js"><link rel="prefetch" href="/interview-practice/assets/js/107.8ee0ded0.js"><link rel="prefetch" href="/interview-practice/assets/js/108.32f0bdf4.js"><link rel="prefetch" href="/interview-practice/assets/js/109.d6c17da9.js"><link rel="prefetch" href="/interview-practice/assets/js/11.d618fd0e.js"><link rel="prefetch" href="/interview-practice/assets/js/110.6a3dc91c.js"><link rel="prefetch" href="/interview-practice/assets/js/111.9b4f363f.js"><link rel="prefetch" href="/interview-practice/assets/js/112.47db9ff1.js"><link rel="prefetch" href="/interview-practice/assets/js/113.34888eb7.js"><link rel="prefetch" href="/interview-practice/assets/js/114.4aa95a8f.js"><link rel="prefetch" href="/interview-practice/assets/js/115.a361375c.js"><link rel="prefetch" href="/interview-practice/assets/js/116.a767fb5c.js"><link rel="prefetch" href="/interview-practice/assets/js/117.9b5fd0cf.js"><link rel="prefetch" href="/interview-practice/assets/js/118.d7836201.js"><link rel="prefetch" href="/interview-practice/assets/js/119.af6bdc5a.js"><link rel="prefetch" href="/interview-practice/assets/js/12.57871b98.js"><link rel="prefetch" href="/interview-practice/assets/js/120.2cee0b0d.js"><link rel="prefetch" href="/interview-practice/assets/js/121.2d0ceafd.js"><link rel="prefetch" href="/interview-practice/assets/js/122.944dd987.js"><link rel="prefetch" href="/interview-practice/assets/js/123.3e74a7c0.js"><link rel="prefetch" href="/interview-practice/assets/js/124.56919120.js"><link rel="prefetch" href="/interview-practice/assets/js/125.e0a5536b.js"><link rel="prefetch" href="/interview-practice/assets/js/126.b7b00bad.js"><link rel="prefetch" href="/interview-practice/assets/js/127.45d72c21.js"><link rel="prefetch" href="/interview-practice/assets/js/128.0847fde9.js"><link rel="prefetch" href="/interview-practice/assets/js/129.dd58ef75.js"><link rel="prefetch" href="/interview-practice/assets/js/13.191f7989.js"><link rel="prefetch" href="/interview-practice/assets/js/130.43bf43ce.js"><link rel="prefetch" href="/interview-practice/assets/js/131.3e7b97c3.js"><link rel="prefetch" href="/interview-practice/assets/js/132.864eab63.js"><link rel="prefetch" href="/interview-practice/assets/js/133.567ad4bb.js"><link rel="prefetch" href="/interview-practice/assets/js/134.04c12a97.js"><link rel="prefetch" href="/interview-practice/assets/js/135.15c57347.js"><link rel="prefetch" href="/interview-practice/assets/js/136.3373e8f4.js"><link rel="prefetch" href="/interview-practice/assets/js/137.49a17c58.js"><link rel="prefetch" href="/interview-practice/assets/js/138.2f265fb5.js"><link rel="prefetch" href="/interview-practice/assets/js/139.7a891263.js"><link rel="prefetch" href="/interview-practice/assets/js/14.69da8b95.js"><link rel="prefetch" href="/interview-practice/assets/js/140.1782b77d.js"><link rel="prefetch" href="/interview-practice/assets/js/141.99adb767.js"><link rel="prefetch" href="/interview-practice/assets/js/142.ae06dd23.js"><link rel="prefetch" href="/interview-practice/assets/js/143.effaadc6.js"><link rel="prefetch" href="/interview-practice/assets/js/144.1a626760.js"><link rel="prefetch" href="/interview-practice/assets/js/145.2042ee70.js"><link rel="prefetch" href="/interview-practice/assets/js/146.a60d8912.js"><link rel="prefetch" href="/interview-practice/assets/js/147.e46d5af2.js"><link rel="prefetch" href="/interview-practice/assets/js/148.1dcaf193.js"><link rel="prefetch" href="/interview-practice/assets/js/149.197c6d42.js"><link rel="prefetch" href="/interview-practice/assets/js/15.273b7172.js"><link rel="prefetch" href="/interview-practice/assets/js/150.d1858ad0.js"><link rel="prefetch" href="/interview-practice/assets/js/151.73ac14e7.js"><link rel="prefetch" href="/interview-practice/assets/js/152.eb6bde73.js"><link rel="prefetch" href="/interview-practice/assets/js/153.9a2a2007.js"><link rel="prefetch" href="/interview-practice/assets/js/154.0c700e10.js"><link rel="prefetch" href="/interview-practice/assets/js/155.f1ddcb7f.js"><link rel="prefetch" href="/interview-practice/assets/js/156.d7b9faab.js"><link rel="prefetch" href="/interview-practice/assets/js/157.a0f9e5aa.js"><link rel="prefetch" href="/interview-practice/assets/js/158.5f9bb932.js"><link rel="prefetch" href="/interview-practice/assets/js/16.38b7a7b4.js"><link rel="prefetch" href="/interview-practice/assets/js/17.e6e4dc65.js"><link rel="prefetch" href="/interview-practice/assets/js/18.735a5a17.js"><link rel="prefetch" href="/interview-practice/assets/js/19.0a824a47.js"><link rel="prefetch" href="/interview-practice/assets/js/20.b5f56bd9.js"><link rel="prefetch" href="/interview-practice/assets/js/21.4bb13968.js"><link rel="prefetch" href="/interview-practice/assets/js/22.ff41547f.js"><link rel="prefetch" href="/interview-practice/assets/js/23.0f1b2f37.js"><link rel="prefetch" href="/interview-practice/assets/js/25.bf085bb3.js"><link rel="prefetch" href="/interview-practice/assets/js/26.90b05373.js"><link rel="prefetch" href="/interview-practice/assets/js/27.909a3bce.js"><link rel="prefetch" href="/interview-practice/assets/js/28.06c2a39a.js"><link rel="prefetch" href="/interview-practice/assets/js/29.83183ae4.js"><link rel="prefetch" href="/interview-practice/assets/js/3.7e70f329.js"><link rel="prefetch" href="/interview-practice/assets/js/30.bb861d4f.js"><link rel="prefetch" href="/interview-practice/assets/js/31.9d58c6a7.js"><link rel="prefetch" href="/interview-practice/assets/js/32.512a37c4.js"><link rel="prefetch" href="/interview-practice/assets/js/33.5fdceb6e.js"><link rel="prefetch" href="/interview-practice/assets/js/34.43ae2cd8.js"><link rel="prefetch" href="/interview-practice/assets/js/35.4c6cbb73.js"><link rel="prefetch" href="/interview-practice/assets/js/36.6e750725.js"><link rel="prefetch" href="/interview-practice/assets/js/37.19513e34.js"><link rel="prefetch" href="/interview-practice/assets/js/38.3b755d66.js"><link rel="prefetch" href="/interview-practice/assets/js/39.18626aed.js"><link rel="prefetch" href="/interview-practice/assets/js/4.e7c996f5.js"><link rel="prefetch" href="/interview-practice/assets/js/40.e2a7da2b.js"><link rel="prefetch" href="/interview-practice/assets/js/41.ffc47447.js"><link rel="prefetch" href="/interview-practice/assets/js/42.dcf7550a.js"><link rel="prefetch" href="/interview-practice/assets/js/43.8b886dac.js"><link rel="prefetch" href="/interview-practice/assets/js/44.1423fb80.js"><link rel="prefetch" href="/interview-practice/assets/js/45.848eba4d.js"><link rel="prefetch" href="/interview-practice/assets/js/46.eabc4d76.js"><link rel="prefetch" href="/interview-practice/assets/js/47.1b818390.js"><link rel="prefetch" href="/interview-practice/assets/js/48.877c6cd9.js"><link rel="prefetch" href="/interview-practice/assets/js/49.7e08e320.js"><link rel="prefetch" href="/interview-practice/assets/js/5.6eff8140.js"><link rel="prefetch" href="/interview-practice/assets/js/50.b82c87ae.js"><link rel="prefetch" href="/interview-practice/assets/js/51.a0173448.js"><link rel="prefetch" href="/interview-practice/assets/js/52.fb30a271.js"><link rel="prefetch" href="/interview-practice/assets/js/53.1ee22aa6.js"><link rel="prefetch" href="/interview-practice/assets/js/54.f8e41a96.js"><link rel="prefetch" href="/interview-practice/assets/js/55.013c93b1.js"><link rel="prefetch" href="/interview-practice/assets/js/56.8f0b7495.js"><link rel="prefetch" href="/interview-practice/assets/js/57.5ede19dd.js"><link rel="prefetch" href="/interview-practice/assets/js/58.5c09763c.js"><link rel="prefetch" href="/interview-practice/assets/js/59.d314add0.js"><link rel="prefetch" href="/interview-practice/assets/js/6.17d5dd20.js"><link rel="prefetch" href="/interview-practice/assets/js/60.de76aba2.js"><link rel="prefetch" href="/interview-practice/assets/js/61.ee7763f6.js"><link rel="prefetch" href="/interview-practice/assets/js/62.4bedc441.js"><link rel="prefetch" href="/interview-practice/assets/js/63.f98e5971.js"><link rel="prefetch" href="/interview-practice/assets/js/64.d7357db9.js"><link rel="prefetch" href="/interview-practice/assets/js/65.4a4b7b5b.js"><link rel="prefetch" href="/interview-practice/assets/js/66.5095e787.js"><link rel="prefetch" href="/interview-practice/assets/js/67.ac3c846d.js"><link rel="prefetch" href="/interview-practice/assets/js/68.e1b8e92c.js"><link rel="prefetch" href="/interview-practice/assets/js/69.febbe467.js"><link rel="prefetch" href="/interview-practice/assets/js/7.83ff415e.js"><link rel="prefetch" href="/interview-practice/assets/js/70.96b16f21.js"><link rel="prefetch" href="/interview-practice/assets/js/71.43d47ec4.js"><link rel="prefetch" href="/interview-practice/assets/js/72.d9695dc6.js"><link rel="prefetch" href="/interview-practice/assets/js/73.ba9be6a1.js"><link rel="prefetch" href="/interview-practice/assets/js/74.3a82e6d2.js"><link rel="prefetch" href="/interview-practice/assets/js/75.1c89232a.js"><link rel="prefetch" href="/interview-practice/assets/js/76.ad261378.js"><link rel="prefetch" href="/interview-practice/assets/js/77.fc656b38.js"><link rel="prefetch" href="/interview-practice/assets/js/78.bf1e30cb.js"><link rel="prefetch" href="/interview-practice/assets/js/79.a93c7dc7.js"><link rel="prefetch" href="/interview-practice/assets/js/8.06cde630.js"><link rel="prefetch" href="/interview-practice/assets/js/80.35d4ac3f.js"><link rel="prefetch" href="/interview-practice/assets/js/81.872533cf.js"><link rel="prefetch" href="/interview-practice/assets/js/82.6cb42b44.js"><link rel="prefetch" href="/interview-practice/assets/js/83.5ed030f2.js"><link rel="prefetch" href="/interview-practice/assets/js/84.810c5188.js"><link rel="prefetch" href="/interview-practice/assets/js/85.fa5cef48.js"><link rel="prefetch" href="/interview-practice/assets/js/86.9397fdbd.js"><link rel="prefetch" href="/interview-practice/assets/js/87.d0c39bea.js"><link rel="prefetch" href="/interview-practice/assets/js/88.b29c86f9.js"><link rel="prefetch" href="/interview-practice/assets/js/89.f0babf6c.js"><link rel="prefetch" href="/interview-practice/assets/js/9.aa9c870c.js"><link rel="prefetch" href="/interview-practice/assets/js/90.491ba36a.js"><link rel="prefetch" href="/interview-practice/assets/js/91.5bfef8b0.js"><link rel="prefetch" href="/interview-practice/assets/js/92.e2e9c574.js"><link rel="prefetch" href="/interview-practice/assets/js/93.43e0ca04.js"><link rel="prefetch" href="/interview-practice/assets/js/94.a8f47436.js"><link rel="prefetch" href="/interview-practice/assets/js/95.8ee90a84.js"><link rel="prefetch" href="/interview-practice/assets/js/96.09696f23.js"><link rel="prefetch" href="/interview-practice/assets/js/97.19f4a12a.js"><link rel="prefetch" href="/interview-practice/assets/js/98.d08d598f.js"><link rel="prefetch" href="/interview-practice/assets/js/99.0b74613b.js">
    <link rel="stylesheet" href="/interview-practice/assets/css/0.styles.f521d097.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/interview-practice/" class="home-link router-link-active"><!----> <span class="site-name">前端面试刷题</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/iloveyou11/interview-practice" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/iloveyou11/learning-blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  个人博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/iloveyou11/interview-practice" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/iloveyou11/learning-blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  个人博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>js系列</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>html/css系列</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>浏览器系列</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端工程系列</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>框架系列</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>node系列</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>算法系列</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/interview-practice/algorithm/1.html" class="sidebar-link">DFS &amp; BFS如何实现？</a></li><li><a href="/interview-practice/algorithm/2.html" class="sidebar-link">如何使用DFS和BFS实现深拷贝？</a></li><li><a href="/interview-practice/algorithm/14.html" class="sidebar-link">求多个数组之间的交集</a></li><li><a href="/interview-practice/algorithm/20.html" class="sidebar-link">数组去重的常用方法</a></li><li><a href="/interview-practice/algorithm/21.html" class="sidebar-link">数组扁平化的多种实现方式</a></li><li><a href="/interview-practice/algorithm/3.html" class="sidebar-link">求两个日期中间的有效日期</a></li><li><a href="/interview-practice/algorithm/4.html" class="sidebar-link">求字符串连续出现最多的字符和个数</a></li><li><a href="/interview-practice/algorithm/5.html" class="sidebar-link">写一个函数，将entry转化为指定json</a></li><li><a href="/interview-practice/algorithm/6.html" class="sidebar-link">写一个函数，将指定json转化为entry</a></li><li><a href="/interview-practice/algorithm/7.html" class="sidebar-link">将原始list转化为树形结构</a></li><li><a href="/interview-practice/algorithm/8.html" class="sidebar-link">如何将数组全部0移至末尾？</a></li><li><a href="/interview-practice/algorithm/9.html" class="sidebar-link">求数组非零最小值 index</a></li><li><a href="/interview-practice/algorithm/10.html" class="sidebar-link">实现一个批量请求函数 multiRequest</a></li><li><a href="/interview-practice/algorithm/11.html" class="sidebar-link">用最简洁代码实现indexOf方法</a></li><li><a href="/interview-practice/algorithm/12.html" class="sidebar-link">将'1000'变为'1.000'形式</a></li><li><a href="/interview-practice/algorithm/13.html" class="sidebar-link">反转链表，每 k 个节点反转一次</a></li><li><a href="/interview-practice/algorithm/15.html" class="sidebar-link">如果每隔 1s 输出应该如何改造？</a></li><li><a href="/interview-practice/algorithm/16.html" class="sidebar-link">从数组随机获取指定个数非重元素</a></li><li><a href="/interview-practice/algorithm/17.html" class="sidebar-link">判断正确的网址</a></li><li><a href="/interview-practice/algorithm/18.html" class="sidebar-link">将指定字符串转化为特定结构的json</a></li><li><a href="/interview-practice/algorithm/19.html" class="sidebar-link">经典排序算法实现</a></li><li><a href="/interview-practice/algorithm/22.html" class="sidebar-link">如何判断url中只包含qq.com</a></li><li><a href="/interview-practice/algorithm/23.html" class="sidebar-link">【题库】剑指offer刷题</a></li><li><a href="/interview-practice/algorithm/24.html" aria-current="page" class="active sidebar-link">【题库】动态规划DP刷题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/interview-practice/algorithm/24.html#爬楼梯-每次只能走一阶或两阶" class="sidebar-link">爬楼梯（每次只能走一阶或两阶）</a></li><li class="sidebar-sub-header"><a href="/interview-practice/algorithm/24.html#最小编辑距离" class="sidebar-link">最小编辑距离</a></li><li class="sidebar-sub-header"><a href="/interview-practice/algorithm/24.html#最长回文子串" class="sidebar-link">最长回文子串</a></li><li class="sidebar-sub-header"><a href="/interview-practice/algorithm/24.html#二维矩阵计算走法种类" class="sidebar-link">二维矩阵计算走法种类</a></li><li class="sidebar-sub-header"><a href="/interview-practice/algorithm/24.html#三角形最小路径之和-m-层" class="sidebar-link">三角形最小路径之和(m 层)</a></li><li class="sidebar-sub-header"><a href="/interview-practice/algorithm/24.html#乘积最大子序列-2-3-2-4" class="sidebar-link">乘积最大子序列 (2 3 -2 4)</a></li><li class="sidebar-sub-header"><a href="/interview-practice/algorithm/24.html#最长上升子序列-位置不变" class="sidebar-link">最长上升子序列(位置不变)</a></li><li class="sidebar-sub-header"><a href="/interview-practice/algorithm/24.html#零钱兑换问题" class="sidebar-link">零钱兑换问题</a></li><li class="sidebar-sub-header"><a href="/interview-practice/algorithm/24.html#背包问题" class="sidebar-link">背包问题</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>网络系列</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="【题库】动态规划dp刷题"><a href="#【题库】动态规划dp刷题" class="header-anchor">#</a> 【题库】动态规划DP刷题</h3> <h2 id="爬楼梯-每次只能走一阶或两阶"><a href="#爬楼梯-每次只能走一阶或两阶" class="header-anchor">#</a> 爬楼梯（每次只能走一阶或两阶）</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">f</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">f</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">f</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">2</span>
</code></pre></div><p>实现也非常简单：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token parameter">n</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">2</span>
  <span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">fn</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="最小编辑距离"><a href="#最小编辑距离" class="header-anchor">#</a> 最小编辑距离</h2> <p>最小编辑距离是指一个单词通过新增、替换、删除三种操作方法，变为另一个单词的最小操作数。使用DP动态规划解决，算法如下：</p> <p><img src="https://img.alicdn.com/imgextra/i3/O1CN01QDF2TD1lpaivQQe0Q_!!6000000004868-2-tps-1836-470.png" alt="最小编辑距离"></p> <p>代码实现如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">dp</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 1. 初始化二维矩阵</span>
  <span class="token keyword">let</span> lenA <span class="token operator">=</span> a<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token keyword">let</span> lenB <span class="token operator">=</span> b<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token keyword">let</span> d <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  d<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token comment">// 2. 二维矩阵填值</span>

  <span class="token comment">// 填充第一行</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> lenB<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    d<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 填充第一列</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> lenA<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>d<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      d<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      d<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      d<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 3. DP求解矩阵每个位置的值</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> lenA<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> lenB<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">===</span> b<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        d<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> d<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> m1 <span class="token operator">=</span> d<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> m2 <span class="token operator">=</span> d<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> m3 <span class="token operator">=</span> d<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
        d<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>m1<span class="token punctuation">,</span> m2<span class="token punctuation">,</span> m3<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> d<span class="token punctuation">[</span>lenA<span class="token punctuation">]</span><span class="token punctuation">[</span>lenB<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>关于这道题目详细的讨论在这里，可自行阅读：<a href="https://github.com/youngwind/blog/issues/106" target="_blank" rel="noopener noreferrer">最小编辑距离问题：递归与动态规划<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="最长回文子串"><a href="#最长回文子串" class="header-anchor">#</a> 最长回文子串</h2> <p>回文天然具有「状态转移」性质：一个长度严格大于 2 的回文去掉头尾字符以后，剩下的部分依然是回文。反之，如果一个字符串头尾两个字符都不相等，那么这个字符串一定不是回文。</p> <p><strong>定义状态</strong></p> <p>dp[i][j] 表示子串 s[i..j] 是否为回文子串，这里子串 s[i..j] 定义为左闭右闭区间，即可以取到 s[i] 和 s[j]。</p> <p><strong>定义状态转移方程</strong></p> <p><code>dp[i][j] = (s[i] == s[j]) and dp[i + 1][j - 1]</code></p> <p><strong>代码实现：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">longestPalindrome</span> <span class="token operator">=</span> <span class="token parameter">s</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> len <span class="token operator">=</span> s<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>len <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> s<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">let</span> maxLen <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> begin <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token comment">// dp[i][j] 表示 s[i, j] 是否是回文串</span>
  <span class="token keyword">let</span> dp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> charArray <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> j<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>charArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> charArray<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">-</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> dp<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>

      <span class="token comment">// 只要 dp[i][j] == true 成立，就表示子串 s[i..j] 是回文，此时记录回文长度和起始位置</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> j <span class="token operator">-</span> i <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&gt;</span> maxLen<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        maxLen <span class="token operator">=</span> j <span class="token operator">-</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
        begin <span class="token operator">=</span> i<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> s<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>begin<span class="token punctuation">,</span> begin <span class="token operator">+</span> maxLen<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="二维矩阵计算走法种类"><a href="#二维矩阵计算走法种类" class="header-anchor">#</a> 二维矩阵计算走法种类</h2> <p><strong>问题1：有一个每排m、每列n个元素的二维矩阵，请问从左上角走到右下角总共有多少种不同的路线？</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * 
 * @param {*} m 一排有多少个
 * @param {*} n 一列有多少个
 * @returns 在有从左上角走到右下角的路径总和
 */</span>
<span class="token keyword">const</span> <span class="token function-variable function">transStepNoBlock</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">m<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 方法1：排列组合</span>
  <span class="token comment">// 总共要走 m+n-2 步</span>
  <span class="token comment">// 其中有 m-1 步向右，n-1步向左</span>
  <span class="token comment">// 只需奥在 m+n-2 中选择 m-1 步即可</span>

  <span class="token comment">// 方法2：动态规划</span>
  <span class="token comment">// 状态定义：DP[i,j] 表示从左上角走到第i行第j列的全部路线总数</span>
  <span class="token comment">// 初始状态：DP[0,0]=1</span>
  <span class="token comment">// 状态转移方程：DP[i,j]=</span>
  <span class="token comment">//    1. DP[i,j]=DP[i-1,j]+DP[i,j-1]    if i&gt;0,j&gt;0  非首行首列元素，需要累加从左侧元素和从上侧元素到达的路径总和</span>
  <span class="token comment">//    2. DP[i,j]=DP[i-1,j]   if j=0   首列非首个元素，直接取从上侧元素达到的总数即可</span>
  <span class="token comment">//    3. DP[i,j]=DP[i,j-1]    if i=0   首行非首个元素，直接取从左侧元素达到的总数即可</span>

  <span class="token comment">// 填充完二维数组，取 DP[m-1,n-1] 即可</span>



  <span class="token comment">// 边界判断</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>m <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token operator">||</span> n <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 初始化dp矩阵</span>
  <span class="token keyword">const</span> dp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">i</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

  <span class="token comment">// 填充左上角的一个值</span>
  dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>

  <span class="token comment">// 填充第一行</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 填充第一列</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> dp<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 填充非首行首列</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> m<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> dp<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 返回结果</span>
  <span class="token keyword">return</span> dp<span class="token punctuation">[</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>m <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>问题2：有一个每排m、每列n个元素的二维矩阵，其中存在障碍物，数值为1代表畅通，数值为0代表障碍，请问从左上角走到右下角总共有多少种不同的路线？</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * 
 * @param {*} matrix 二维数组，0表示阻碍，1表示畅通能走
 */</span>
<span class="token keyword">const</span> <span class="token function-variable function">transStepWithBlock</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">matrix</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 方法：动态规划</span>
  <span class="token comment">// 状态定义：DP[i,j] 表示从左上角走到第i行第j列的全部路线总数</span>
  <span class="token comment">// 初始状态：DP[0,0]=1</span>
  <span class="token comment">// 状态转移方程：DP[i,j]=</span>
  <span class="token comment">//    1. DP[i,j]=DP[i-1,j]+DP[i,j-1]    if i&gt;0,j&gt;0 &amp;&amp; DP[i-1,j]=1 &amp;&amp; DP[i,j-1]=1  非首行首列元素，需要累加从左侧元素和从上侧元素到达的路径总和</span>
  <span class="token comment">//       DP[i,j]=DP[i-1,j]              if i&gt;0,j&gt;0 &amp;&amp; DP[i-1,j]=1 &amp;&amp; DP[i,j-1]=0  非首行首列元素，需要累加从左侧元素和从上侧元素到达的路径总和</span>
  <span class="token comment">//       DP[i,j]=DP[i,j-1]              if i&gt;0,j&gt;0 &amp;&amp; DP[i-1,j]=0 &amp;&amp; DP[i,j-1]=1  非首行首列元素，需要累加从左侧元素和从上侧元素到达的路径总和</span>
  <span class="token comment">//    2. DP[i,j]=DP[i-1,j]   if j=0 &amp;&amp; DP[i-1,j]=1  首列非首个元素，直接取从上侧元素达到的总数即可</span>
  <span class="token comment">//       DP[i,j]=0           if j=0 &amp;&amp; DP[i-1,j]=0  首列非首个元素，直接取从上侧元素达到的总数即可</span>
  <span class="token comment">//    3. DP[i,j]=DP[i,j-1]    if i=0 &amp;&amp; DP[i,j-1]=1  首行非首个元素，直接取从左侧元素达到的总数即可</span>
  <span class="token comment">//       DP[i,j]=0            if i=0 &amp;&amp; DP[i,j-1]=0  首行非首个元素，直接取从左侧元素达到的总数即可</span>

  <span class="token comment">// 填充完二维数组，取 DP[m-1,n-1] 即可</span>



  <span class="token keyword">const</span> m <span class="token operator">=</span> matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token comment">// 列数</span>
  <span class="token keyword">const</span> n <span class="token operator">=</span> matrix<span class="token punctuation">.</span>length <span class="token comment">// 行数</span>
  <span class="token comment">// 边界判断</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>m <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token operator">||</span> n <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 初始化dp矩阵</span>
  <span class="token keyword">const</span> dp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">i</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token comment">// 填充左上角的一个值</span>
  dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
  <span class="token comment">// 填充第一行</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">?</span> dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 填充第一列</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> matrix<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">?</span> dp<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 填充非首行首列</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> m<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> top <span class="token operator">=</span> matrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>
      <span class="token keyword">const</span> left <span class="token operator">=</span> matrix<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>top <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>left <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 上、左都通</span>
          dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> dp<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment">// 上通、左不通</span>
          dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>left <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 上不通，左通</span>
          dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> dp<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment">// 上、左都不通</span>
          dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 返回结果</span>
  <span class="token keyword">return</span> dp<span class="token punctuation">[</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>m <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="三角形最小路径之和-m-层"><a href="#三角形最小路径之和-m-层" class="header-anchor">#</a> 三角形最小路径之和(m 层)</h2> <p>状态定义：DP[i][j]——从底部走到[i][j]的所有路径最小和</p> <p><strong>状态转移方程：</strong></p> <p><code>dp[i][j] = min(dp[i + 1][j], dp[i + 1][j + 1]) + triangle[i][j]</code></p> <p><strong>定义初始值：</strong></p> <p><code>DP[m-1][j]=T[m-1][j]</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 返回dp[0][0]即可</span>

<span class="token keyword">function</span> <span class="token function">minPath</span><span class="token punctuation">(</span><span class="token parameter">triangle</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>triangle<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> dp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> triangle<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> triangle<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 初始化</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> dp<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    dp<span class="token punctuation">[</span>dp<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> triangle<span class="token punctuation">[</span>dp<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 递归</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> dp<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> triangle<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="乘积最大子序列-2-3-2-4"><a href="#乘积最大子序列-2-3-2-4" class="header-anchor">#</a> 乘积最大子序列 (2 3 -2 4)</h2> <p>这里的状态是二维的，不只是一维，需要同时存 max 和 min，因为元素可能为负数</p> <p><strong>形式1：采用二维数组</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">DP</span><span class="token punctuation">[</span>i<span class="token punctuation">,</span> j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>max<span class="token punctuation">,</span> min<span class="token punctuation">]</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token constant">DP</span><span class="token punctuation">[</span>i<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token constant">DP</span><span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token constant">DP</span><span class="token punctuation">[</span>i<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token constant">DP</span><span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token constant">DP</span><span class="token punctuation">[</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token constant">DP</span><span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token constant">DP</span><span class="token punctuation">[</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token constant">DP</span><span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
</code></pre></div><p>​结果： 遍历 DP[i, 0]，找出最大值</p> <p><strong>形式2：采用两个变量max、min存储</strong></p> <p>每有一个新的数字加入，最大值为当前最大值 x 新数，或当前最小值（负数） x 新数（负数），否则为当前值</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">maxProduct</span><span class="token punctuation">(</span><span class="token parameter">nums</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">'undefined'</span> <span class="token operator">||</span> nums<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> max <span class="token operator">=</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      min <span class="token operator">=</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      result <span class="token operator">=</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> temp <span class="token operator">=</span> max<span class="token punctuation">;</span>
      <span class="token comment">// 最大值的几种情况</span>
      <span class="token comment">// 1. 当前最大值max x 新数num[i]  if num[i]&gt;0</span>
      <span class="token comment">// 2. 当前最小值min x 新数num[i]  if num[i]&lt;0</span>
      <span class="token comment">// 3. 当前值 num[i]</span>
      max <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>max <span class="token operator">*</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> min <span class="token operator">*</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 最小值的几种情况</span>
      <span class="token comment">// 1. 当前最大值max x 新数num[i]  if num[i]&lt;0</span>
      <span class="token comment">// 2. 当前最小值min x 新数num[i]  if num[i]&gt;0</span>
      <span class="token comment">// 3. 当前值 num[i]</span>
      min <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>temp <span class="token operator">*</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> min <span class="token operator">*</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>max <span class="token operator">&gt;</span> result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          result <span class="token operator">=</span> max<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="最长上升子序列-位置不变"><a href="#最长上升子序列-位置不变" class="header-anchor">#</a> 最长上升子序列(位置不变)</h2> <p>状态定义: DP[i] 表示到第 i 个数(选上 i 元素)的最优子结构
结果: DP[0]到 DP[n-1]的最大值
状态转移方程: <code>DP[i]=max(DP[j])+1</code> (j 从 0 到 i-1,且 <code>a[j]&lt;a[i]</code>)</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// dp[i] 表示以第i个元素结尾的最长上升子序列的长度</span>
<span class="token comment">// 如果dp[i]&lt;dp[j]+1,则dp[i]=dp[j]+1</span>
<span class="token comment">// 初始化dp[0]=1</span>
<span class="token comment">// 返回max(dp[0],dp[1],……,dp[n-1])的最大值</span>
<span class="token keyword">function</span> <span class="token function">lengthOfLIS</span><span class="token punctuation">(</span><span class="token parameter">nums</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> dp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    dp<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> <span class="token constant">LIS</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> dp<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">LIS</span> <span class="token operator">&lt;</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token constant">LIS</span> <span class="token operator">=</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token constant">LIS</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="零钱兑换问题"><a href="#零钱兑换问题" class="header-anchor">#</a> 零钱兑换问题</h2> <p>状态定义：DP[i] 表示凑成 i 的最小零钱总数
状态转移方程：<code>DP[i] = min(DP[i - coin[j]]) + 1</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 给定4种面额的硬币1分，2分，5分，6分，如果要找11分的零钱，怎么做才能使得找的硬币数量总和最少。</span>
<span class="token comment">// 动态方程： dp[i] = max(dp[i - 1], dp[i - 2], dp[i - 5], dp[i - 6]) + 1</span>
<span class="token keyword">function</span> <span class="token function">coinChange</span><span class="token punctuation">(</span><span class="token parameter">coins<span class="token punctuation">,</span> amount</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> dp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> amount<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    dp<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> amount<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> coins<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">-</span> coins<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> dp<span class="token punctuation">[</span>i <span class="token operator">-</span> coins<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">||</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> dp<span class="token punctuation">[</span>i <span class="token operator">-</span> coins<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> dp<span class="token punctuation">[</span>i <span class="token operator">-</span> coins<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> dp<span class="token punctuation">[</span>amount<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="背包问题"><a href="#背包问题" class="header-anchor">#</a> 背包问题</h2> <h3 id="_01背包"><a href="#_01背包" class="header-anchor">#</a> 01背包</h3> <p>有n件物品和1个容量为W的背包。每种物品均只有一件，第i件物品的重量为weights[i]，价值为values[i]，求解将哪些物品装入背包可使价值总和最大。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">dp</span><span class="token punctuation">(</span> i<span class="token punctuation">,</span>j <span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">Max</span><span class="token punctuation">(</span> <span class="token function">dp</span><span class="token punctuation">(</span> i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> j <span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">dp</span><span class="token punctuation">(</span> i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> j<span class="token operator">-</span>w<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token operator">+</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token comment">// DP[k,w]表示当背包容量还剩 w 时,在前 k 个物品中选择的最大价值</span>
<span class="token constant">DP</span><span class="token punctuation">[</span>k<span class="token punctuation">,</span> w<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token constant">DP</span><span class="token punctuation">[</span>k <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> w<span class="token punctuation">]</span> <span class="token comment">//(当第 k 件过重, 超出总容量)</span>
<span class="token constant">DP</span><span class="token punctuation">[</span>k<span class="token punctuation">,</span> w<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token constant">DP</span><span class="token punctuation">[</span>k <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> w<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">DP</span><span class="token punctuation">[</span>k <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token function">w</span><span class="token punctuation">(</span>总<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">w</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">+</span> v<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">//前者表示放入第 k 个物品, 后者表示不放入第 k 个物品</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * 
 * @param {*} n 总共有n件物品
 * @param {*} W 背包能承受的最大重量为W
 * @param {*} weights 重量数组，n个元素
 * @param {*} values 价值数组，n个元素
 * @param {*} selected 是否选择数组，n个元素，0代表未被选中，1代表被选中
 * @returns 背包能装物品的最大总价值
 */</span>
<span class="token keyword">function</span> <span class="token function">knapsack</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token punctuation">,</span> <span class="token constant">W</span><span class="token punctuation">,</span> weights<span class="token punctuation">,</span> values<span class="token punctuation">,</span> selected</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//当物品数量为0，或者背包容量为0时，最优解为0</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">||</span> <span class="token constant">W</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">//从当前所剩物品的最后一个物品开始向前，逐个判断是否要添加到背包中</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//如果当前要判断的物品重量大于背包当前所剩的容量，那么就不选择这个物品</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>weights<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token constant">W</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">knapsack</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token constant">W</span><span class="token punctuation">,</span> weights<span class="token punctuation">,</span> values<span class="token punctuation">,</span> selected<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">//不选择物品i的情况下的最优解</span>
      <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token function">knapsack</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token constant">W</span><span class="token punctuation">,</span> weights<span class="token punctuation">,</span> values<span class="token punctuation">,</span> selected<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">//选择物品i的情况下的最优解</span>
      <span class="token keyword">let</span> b <span class="token operator">=</span> values<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token function">knapsack</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token constant">W</span> <span class="token operator">-</span> weights<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> weights<span class="token punctuation">,</span> values<span class="token punctuation">,</span> selected<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">//返回选择物品i和不选择物品i中最优解大的一个</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">&gt;</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        selected<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//物品i未被选取</span>
        <span class="token keyword">return</span> a<span class="token punctuation">;</span> <span class="token comment">// 最大总价值</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        selected<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//物品i被选取</span>
        <span class="token keyword">return</span> b<span class="token punctuation">;</span> <span class="token comment">// 最大总价值</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> selected <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> ws <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> vs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> maxValue <span class="token operator">=</span> <span class="token function">knapsack</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> ws<span class="token punctuation">,</span> vs<span class="token punctuation">,</span> selected<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>maxValue<span class="token punctuation">)</span> <span class="token comment">//15</span>
selected<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>el<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;选择了物品&quot;</span> <span class="token operator">+</span> i <span class="token operator">+</span> <span class="token string">&quot;，其重量为&quot;</span> <span class="token operator">+</span> ws<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;，其价值为&quot;</span> <span class="token operator">+</span> vs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="完全背包"><a href="#完全背包" class="header-anchor">#</a> 完全背包</h3> <p>有n件物品和1个容量为W的背包。每种物品没有上限，第i件物品的重量为weights[i]，价值为values[i]，求解将哪些物品装入背包可使价值总和最大。</p> <p><strong>与01背包的区别是，这里每一种物品的个数都没有上限，01背包却规定了每一种物品只有一件。</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">unboundedKnapsack</span><span class="token punctuation">(</span><span class="token parameter">weights<span class="token punctuation">,</span> values<span class="token punctuation">,</span> <span class="token constant">W</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 总共有n类物品</span>
  <span class="token keyword">let</span> n <span class="token operator">=</span> weights<span class="token punctuation">.</span>length<span class="token punctuation">,</span>

    <span class="token comment">// f[i]代表前i类物品中能放入背包的最大价值总和</span>
    f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token constant">W</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token operator">=</span> weights<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> <span class="token constant">W</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> tmp <span class="token operator">=</span> f<span class="token punctuation">[</span>j <span class="token operator">-</span> weights<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> values<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 将第i件物品也放入背包的最大价值总和</span>
      f<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>f<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> tmp<span class="token punctuation">)</span> <span class="token operator">?</span> f<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">:</span> tmp<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> f<span class="token punctuation">[</span><span class="token constant">W</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token function">unboundedKnapsack</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//输出40</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token function">unboundedKnapsack</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//输出12</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="多重背包"><a href="#多重背包" class="header-anchor">#</a> 多重背包</h3> <p>有n件物品和1个容量为W的背包。每种物品最多有numbers[i]件可用，第i件物品的重量为weights[i]，价值为values[i]，求解将哪些物品装入背包可使价值总和最大。</p> <p><strong>与完全背包的区别是，这里每一种物品都规定了使用上限，而不是无限使用。</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">knapsack</span><span class="token punctuation">(</span><span class="token parameter">weights<span class="token punctuation">,</span> values<span class="token punctuation">,</span> numbers<span class="token punctuation">,</span> <span class="token constant">W</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> n <span class="token operator">=</span> weights<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token keyword">let</span> f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token constant">W</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> numbers<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token comment">//其实就是把这类物品展开，调用numbers[i]次01背包代码  </span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token constant">W</span><span class="token punctuation">;</span> j <span class="token operator">&gt;=</span> weights<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span><span class="token comment">//正常的01背包代码  </span>
        f<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> f<span class="token punctuation">[</span>j <span class="token operator">-</span> weights<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> values<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> f<span class="token punctuation">[</span><span class="token constant">W</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> maxValue <span class="token operator">=</span> <span class="token function">knapsack</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>maxValue<span class="token punctuation">)</span> <span class="token comment">// 9</span>
</code></pre></div><p>以上都是一些很经典的动态规划题，练习了这么多，相信你已经理解了动态规划解题的精髓了吧？总结一下，动态规划的题目一般的解题步骤是：（1）定义状态，即DP[i]代表什么含义；（2）定义状态转移方程，即DP数组的各值是如何求得的；（3）定义初始化状态，即DP数组有哪些初始值；（4）写代码~ 其实在我们解题的过程中，如果发现求解需要不断依赖之前计算的结果，这时可以考虑DP算法，能大大提高求解效率。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/interview-practice/algorithm/23.html" class="prev">
        【题库】剑指offer刷题
      </a></span> <span class="next"><a href="/interview-practice/network/6.html">
        前端必须了解的http基础
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/interview-practice/assets/js/app.dca29c20.js" defer></script><script src="/interview-practice/assets/js/2.8c098b1a.js" defer></script><script src="/interview-practice/assets/js/24.9f3e688a.js" defer></script>
  </body>
</html>
